Rocket.defaults.flicker={target:".flicker",animation:"transform-slide",arrows:!0,arrowsConstraint:!1,autoFlick:!0,autoFlickDelay:10,dotAlignment:"center",dots:!0,position:1};var RockMod_Flicker;!function(t){function e(t,e){function r(t){i(t,e)}function s(t){var t="number"==typeof t?t:Rocket.defaults.flicker.autoFlickDelay;clearTimeout(l),e.autoFlick=!0,e.autoFlickDelay=t,l=setTimeout(function(){i("next",e)},Rocket.milliseconds.seconds(e.autoFlickDelay))}function c(){e.autoFlick&&e.autoFlickDelay&&(clearTimeout(l),e.autoFlick=!1)}if(!Rocket.is.element(t)||!Rocket.is.object(e))return!1;e=u(t,e);var l;e.elements;return e.autoStart=function(){l=setTimeout(function(){i("next",e)},Rocket.milliseconds.seconds(e.autoFlickDelay))},e.autoStop=function(){clearTimeout(l)},o(e),n(e),i(e.position,e),Rocket.is.touch()&&a(e),{flicker:t,move:r,start:s,stop:c}}function o(t){return!("scroller-slide"===t.animation||!t.arrows)&&(Rocket.event.add(t.elements.arrows.left,"click",function(){i("previous",t)}),void Rocket.event.add(t.elements.arrows.right,"click",function(){i("next",t)}))}function n(t){return!("scroller-slide"===t.animation||!t.dots)&&void Rocket.event.add(t.elements.dots,"click",function(e){Rocket.has.class(e.target,"dot")&&!Rocket.has.class(e.target,"_active")&&i(Rocket.get.index(e.target.parentNode)+1,t)})}function i(t,e){switch(e.autoFlick&&e.autoFlickDelay&&(e.autoStop(),e.autoStart()),t){case"next":e.position<e.count?e.position++:e.arrowsConstraint||(e.position=1);break;case"previous":e.position>1?e.position--:e.arrowsConstraint||(e.position=e.count);break;default:if("number"!=typeof t)return!1;t<=e.count&&t>=1?e.position=t:t>=e.count?e.position=e.count:t<=1&&(e.position=1)}var o=e.elements,n=e.position-1;switch(e.animation){case"transform-slide":var i="translate3d(-"+n+"00%, 0, 0)";o.UL.setAttribute("style","-webkit-transform:"+i+";-o-transform:"+i+";-moz-transform:"+i+";transform:"+i),e.lastPosXPercent=100*-n;break;case"transition-fade":Rocket.classes.remove(o.UL.querySelector("li._active"),"_active"),Rocket.classes.add(o.UL.querySelector("li:nth-child("+e.position+")"),"_active");break;case"transition-slide":o.UL.style.left="-"+n+"00%",e.lastPosXLeft=-(n+"00")}"scroller-slide"!==e.animation&&e.dots&&(Rocket.classes.remove(o.dots.querySelector("._active"),"_active"),Rocket.classes.add(o.dots.querySelector("li:nth-child("+e.position+") .dot"),"_active"))}function a(t){if("function"==typeof Hammer)if("transform-slide"===t.animation||"transition-slide"===t.animation){var e=new Hammer(t.elements.UL);e.on("panstart",function(e){s(t)}),e.on("panleft panright",function(e){r(e,t)}),e.on("panend",function(e){c(e,t)})}else if("transition-fade"===t.animation){var e=new Hammer(t.elements.UL);e.on("swipeleft swiperight",function(e){l(e,t)})}}function r(t,e){function o(t){1===e.position&&e.posX>0?e.posX=0:e.position===e.count&&e.posX<t&&(e.posX=t)}switch(e.animation){case"transform-slide":e.posX=Math.round(t.deltaX/e.flickerWidth*1e3)/10+e.lastPosXPercent,o(100*-(e.count-1)),e.panCSS="translate3d("+e.posX+"%, 0, 0)",e.elements.UL.setAttribute("style","-webkit-transform:"+e.panCSS+";-o-transform:"+e.panCSS+";-moz-transform:"+e.panCSS+";transform:"+e.panCSS);break;case"transition-slide":e.posX=Math.round(t.deltaX/e.flickerWidth*100)+e.lastPosXLeft,o(-(100*(e.count-1))),e.elements.UL.style.left=e.posX+"%"}}function s(t){t.autoStop(),t.flickerWidth=t.elements.flicker.clientWidth,Rocket.classes.remove(t.elements.flickerflicker,"_a-"+t.animation)}function c(t,e){e.endPosX=t.deltaX,Rocket.classes.add(e.elements.flicker,"_a-"+e.animation),e.endPosX<-e.panThreshold&&e.position<e.count?i("next",e):e.endPosX>e.panThreshold&&e.position>1&&i("previous",e)}function l(t,e){"swipeleft"==t.type?i("next",e):"swiperight"==t.type&&i("previous",e)}function u(t,e){if(!Rocket.is.element(t)||!Rocket.is.object(e))return!1;var o=JSON.parse(JSON.stringify(e)),n=t.querySelector("ul"),i=t.querySelectorAll("li"),a=i.length;if(o.elements={arrows:{},dots:{},flicker:t,UL:n,LIs:i},o.count=a,o.endPosX=0,o.flickerWidth=0,o.lastPosXLeft=0,o.lastPosXPercent=0,o.panCSS="translate3d(0, 0, 0)",o.panThreshold=100,o.posX=0,Rocket.classes.add(t,["rocket-flicker","_a-"+e.animation]),Rocket.classes.add(n,"flicks"),a>0)for(var r=0,s=a;r<s;r++){var c=i[r].getAttribute("data-background")||!1;c&&(i[r].style.backgroundImage="url("+c+")")}return"scroller-slide"!==e.animation&&(e.arrows&&(o.elements.arrows={left:t.insertBefore(k.arrow("left"),n),right:t.insertBefore(k.arrow("right"),n)}),e.dots&&(o.elements.dots=t.insertBefore(k.dots(a),n),Rocket.classes.add(o.elements.dots,"_"+e.dotAlignment))),o}function d(t){if(!Rocket.is.object(t))return!1;var o={target:Rocket.helper.setDefault(t.target,f.target),animation:Rocket.helper.setDefault(t.animation,f.animation),arrows:Rocket.helper.setDefault(t.arrows,f.arrows),arrowsConstraint:Rocket.helper.setDefault(t.arrowsConstraint,f.arrowsConstraint),autoFlick:Rocket.helper.setDefault(t.autoFlick,f.autoFlick),autoFlickDelay:Rocket.helper.setDefault(t.autoFlickDelay,f.autoFlickDelay),dotAlignment:Rocket.helper.setDefault(t.dotAlignment,f.dotAlignment),dots:Rocket.helper.setDefault(t.dots,f.dots),position:Rocket.helper.setDefault(t.position,f.position)},n=Rocket.dom.select(o.target);if(n.length<1)return!1;for(var i=[],a=0,r=n;a<r.length;a++){var s=r[a];i.push(e(s,o))}return i}var f=Rocket.defaults.flicker,k={arrow:function(t){var e=t||"left",o=document.createElement("div");return o.className="rocket-flicker-arrow _"+e,o},dots:function(t){var e=document.createElement("div"),o=document.createElement("ul");e.className="rocket-flicker-dots";for(var n=0,i=t;n<i;n++){var a=document.createElement("li"),r=document.createElement("div");r.className=0===n?"dot _active":"dot",a.appendChild(r),o.appendChild(a)}return e.appendChild(o),e}};t.init=d}(RockMod_Flicker||(RockMod_Flicker={})),Rocket.flicker=RockMod_Flicker.init;