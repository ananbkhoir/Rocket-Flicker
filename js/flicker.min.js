var Rocket=function(e){if(e.defaults||(e.defaults={}),e.defaults.flicker={selector:".flicker",animation:"transform-slide",arrows:!0,arrowsConstraint:!1,autoFlick:!0,autoFlickDelay:10,dotAlignment:"center",dots:!0,position:1},!e.array){var t={clean:function(e){return!!r.array(e)&&e.filter(function(e){return null!==e})},make:function(e,n){var o=[];if(!e)return o;var i=a.setDefault(n,!1);return r.array(e)&&e.length>0?o=e:r.element(e)?o.push(e):r.string(e)?o=e.split(" "):r.object(e)&&(e=Array.prototype.slice.call(e),r.array(e)&&e.length>0&&(o=e)),i?t.unique(o):o},unique:function(e){return!!r.array(e)&&e.filter(function(e,t,n){return n.indexOf(e)===t})}};e.array=t}if(!e.exists){var n=function(e){return"undefined"!=typeof e&&null!==e&&e!==!1};e.exists=n}if(!e.has){var o={spaces:function(e){return/\s/.test(e)},class:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}};e.has=o}if(!e.is){var r={array:function(e){return"object"==typeof e&&e instanceof Array},boolean:function(e){return"boolean"==typeof e},browser:function(){return!("undefined"==typeof window||"undefined"==typeof navigator||!window.document)},color:function(e){return r.colour(e)},colour:function(e){return defaults.regexp.colour.test(e)},date:function(e,t){var n=t instanceof RegExp?t:defaults.regexp.date;return n.test(e)},element:function(e){return!(!e.nodeType||1!==e.nodeType)},email:function(e,t){var n=t instanceof RegExp?t:defaults.regexp.email;return n.test(e)},function:function(e){return"function"==typeof e},image:function(e,t){var n=r.array(t)?t:defaults.extensions.images;return n[e.split(".").pop().toLowerCase()]},integer:function(e){return r.number(e)&&parseFloat(e)===parseInt(e)},json:function(e){if("object"!=typeof e)try{JSON.parse(e)}catch(e){return!1}return!0},number:function(e){return"number"==typeof e},object:function(e){return"object"==typeof e},password:function(e,t){var n=t instanceof RegExp?t:defaults.regexp.password;return n.test(e)},string:function(e){return"string"==typeof e},time:function(e,t){var n=t instanceof RegExp?t:defaults.regexp.time;return n.test(e)},touch:function(){return"ontouchstart"in window||"onmsgesturechange"in window},url:function(e,t){var n=t instanceof RegExp?t:defaults.regexp.url;return n.test(e)}};e.is=r}if(!e.class){var i={add:function(e,t){i.executeClasses(e,t,!1)},clear:function(e){n(e)&&e.removeAttribute("class")},executeAdd:function(e,t){e.className=e.className.split(" ").concat(t).filter(function(e,t,n){return n.indexOf(e)===t&&""!==e}).toString().replace(/,/g," ")},executeClasses:function(e,o,a){if(!n(e))return!1;var s=[];if(r.element(e)?s.push(e):r.array(e)&&(s=e),s.length<1)return!1;for(var c=t.make(o,!0),l=t.make(a,!0),u=c.length>0,f=l.length>0,d=0,p=s.length;d<p;d++)u&&i.executeAdd(s[d],c),f&&i.executeRemove(s[d],l)},executeRemove:function(e,t){e.className=e.className.split(" ").filter(function(e){return t.indexOf(e)<0}).toString().replace(/,/g," "),""===e.className&&i.clear(e)},remove:function(e,t){i.executeClasses(e,!1,t)},replace:function(e,t,n){i.executeClasses(e,n,t)},toggle:function(e,t){if(!n(e)||"string"!=typeof t||o.spaces(t))return!1;var a=[];if(r.element(e)?a.push(e):r.array(e)&&(a=e),a.length<1)return!1;for(var s=0,c=e.length;s<c;s++)o.class(e[s],t)?i.executeRemove(e[s],[t]):i.executeAdd(e[s],[t])}};e.class=i}if(!e.helper){var a={parse:{json:function(t){return e.is.json(t)?JSON.parse(t):t}},setDefault:function(e,t){return("undefined"!=typeof e||"undefined"!=typeof t)&&("undefined"!=typeof e&&"undefined"==typeof t?e:typeof e==typeof t?e:t)}};e.helper=a}if(!e.log){var s=function(e){window&&window.console&&console.log(e)};e.log=s}if(e.dom||(e.dom={}),e.dom.html||(e.dom.html=document.getElementsByTagName("html")[0]),!e.event){var c={add:function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},remove:function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=n)}};e.event=c}if(!e.get){var l={extension:function(e){return e.split(".").pop().toLowerCase()},index:function(e){return[].indexOf.call(e.parentNode.children,e)}};e.get=l}return e.milliseconds||(e.milliseconds={hours:function(e){return 60*e*60*1e3},minutes:function(e){return 60*e*1e3},seconds:function(e){return 1e3*e}}),e}(Rocket||{}),RocketFlickerComponent=function(){function e(){Rocket.is.touch()||(Rocket.class.add(Rocket.dom.html,"rocket-no-touch"),r=!1)}function t(e,t){if(!e||"object"!=typeof t)return!1;var t=JSON.parse(JSON.stringify(t)),n=e.querySelector("ul"),o=e.querySelectorAll("li"),r=o.length,a={UL:n,LIs:o};if(t.count=r,Rocket.class.add(e,["rocket-flicker","_a-"+t.animation]),Rocket.class.add(n,"flicks"),r>0)for(var s=0,c=r;s<c;s++){var l=o[s].getAttribute("data-background")||!1;l&&(o[s].style.backgroundImage="url("+l+")")}return"scroller-slide"!==t.animation&&(t.arrows&&(a.arrows={left:e.insertBefore(i.arrow("left"),n),right:e.insertBefore(i.arrow("right"),n)}),t.dots&&(a.dots=e.insertBefore(i.dots(r),n),Rocket.class.add(a.dots,"_"+t.dotAlignment))),{flicker:e,options:t,elements:a}}function n(e){if(!e)return!1;var t,n=e.elements,o=e.flicker,i=e.options,a=0,s=0,c=0,l=0,u="translate3d(0, 0, 0)",f=100,d=0,p=function(){return!("scroller-slide"===i.animation||!i.arrows)&&(Rocket.event.add(n.arrows.left,"click",function(){g("previous")}),void Rocket.event.add(n.arrows.right,"click",function(){g("next")}))},m=function(){t=setTimeout(function(){g("next")},Rocket.milliseconds.seconds(i.autoFlickDelay))},k=function(){clearTimeout(t)},v=function(e){1===i.position&&d>0?d=0:i.position===i.count&&d<e&&(d=e)},y=function(){return!("scroller-slide"===i.animation||!i.dots)&&void Rocket.event.add(n.dots,"click",function(e){Rocket.has.class(e.target,"dot")&&!Rocket.has.class(e.target,"_active")&&g(Rocket.get.index(e.target.parentNode)+1)})},g=function(e){switch(i.autoFlick&&i.autoFlickDelay&&(k(),m()),e){case"next":i.position<i.count?i.position++:i.arrowsConstraint||(i.position=1);break;case"previous":i.position>1?i.position--:i.arrowsConstraint||(i.position=i.count);break;default:if("number"!=typeof e)return!1;e<=i.count&&e>=1?i.position=e:e>=i.count?i.position=i.count:e<=1&&(i.position=1)}var t=i.position-1;switch(i.animation){case"transform-slide":var o="translate3d(-"+t+"00%, 0, 0)";n.UL.setAttribute("style","-webkit-transform:"+o+";-o-transform:"+o+";-moz-transform:"+o+";transform:"+o),l=100*-t;break;case"transition-fade":Rocket.class.remove(n.UL.querySelector("li._active"),"_active"),Rocket.class.add(n.UL.querySelector("li:nth-child("+i.position+")"),"_active");break;case"transition-slide":n.UL.style.left="-"+t+"00%",c=-(t+"00")}"scroller-slide"!==i.animation&&i.dots&&(Rocket.class.remove(n.dots.querySelector("._active"),"_active"),Rocket.class.add(n.dots.querySelector("li:nth-child("+i.position+") .dot"),"_active"))},h=function(){if("function"==typeof Hammer)if("transform-slide"===i.animation||"transition-slide"===i.animation){var e=new Hammer(n.UL);e.on("panstart",function(e){R()}),e.on("panleft panright",function(e){w(e)}),e.on("panend",function(e){x(e)})}else if("transition-fade"===i.animation){var e=new Hammer(n.UL);e.on("swipeleft swiperight",function(e){b(e)})}},w=function(e){switch(i.animation){case"transform-slide":d=Math.round(e.deltaX/s*1e3)/10+l,v(100*-(i.count-1)),u="translate3d("+d+"%, 0, 0)",n.UL.setAttribute("style","-webkit-transform:"+u+";-o-transform:"+u+";-moz-transform:"+u+";transform:"+u);break;case"transition-slide":d=Math.round(e.deltaX/s*100)+c,v(-(100*(i.count-1))),n.UL.style.left=d+"%"}},R=function(){k(),s=o.clientWidth,Rocket.class.remove(o,"_a-"+i.animation)},x=function(e){a=e.deltaX,Rocket.class.add(o,"_a-"+i.animation),a<-f&&i.position<i.count?g("next"):a>f&&i.position>1&&g("previous")},b=function(e){"swipeleft"==e.type?g("next"):"swiperight"==e.type&&g("previous")},F=function(e){var e="number"==typeof e?e:Rocket.defaults.flicker.autoFlickDelay;clearTimeout(t),i.autoFlick=!0,i.autoFlickDelay=e,t=setTimeout(function(){g("next")},Rocket.milliseconds.seconds(i.autoFlickDelay))},E=function(){i.autoFlick&&i.autoFlickDelay&&(clearTimeout(t),i.autoFlick=!1)};return p(),y(),g(i.position),r&&h(),{flicker:o,move:g,start:F,stop:E}}function o(e){var e="object"==typeof e&&e,o={selector:"string"==typeof e.selector?e.selector:Rocket.defaults.flicker.selector,animation:"string"==typeof e.animation?e.animation:Rocket.defaults.flicker.animation,arrows:"boolean"==typeof e.arrows?e.arrows:Rocket.defaults.flicker.arrows,arrowsConstraint:"boolean"==typeof e.arrowsConstraint?e.arrowsConstraint:Rocket.defaults.flicker.arrowsConstraint,autoFlick:"boolean"==typeof e.autoFlick?e.autoFlick:Rocket.defaults.flicker.autoFlick,autoFlickDelay:"number"==typeof e.autoFlickDelay?e.autoFlickDelay:Rocket.defaults.flicker.autoFlickDelay,dotAlignment:"string"==typeof e.dotAlignment?e.dotAlignment:Rocket.defaults.flicker.dotAlignment,dots:"boolean"==typeof e.dots?e.dots:Rocket.defaults.flicker.dots,position:"number"==typeof e.position?e.position:Rocket.defaults.flicker.position},r=document.querySelectorAll(o.selector);if(r.length<1)return!1;for(var i=[],a=0,s=r.length;a<s;a++)i.push(new n(t(r[a],o)));return i}var r=!0,i={arrow:function(e){var e=e||"left",t=document.createElement("div");return t.className="rocket-flicker-arrow _"+e,t},dots:function(e){var t=document.createElement("div"),n=document.createElement("ul");t.className="rocket-flicker-dots";for(var o=0,r=e;o<r;o++){var i=document.createElement("li"),a=document.createElement("div");a.className=0===o?"dot _active":"dot",i.appendChild(a),n.appendChild(i)}return t.appendChild(n),t}};return e(),{init:o}}();Rocket.flicker=function(e){return RocketFlickerComponent.init(e)};